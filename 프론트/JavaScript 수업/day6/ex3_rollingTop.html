<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rolling 여러개 연습</title>
    <script src="../js/jquery.min.js"></script>
    <!-- 롤링 기능을하는 함수를 rolling.js에 넣어주고 js파일과 연동해줬다.. -->
    <script src="../js/rolling.js"></script>
    <script>
        var id1, id2, id3;

        $(function(){
            
            /*
            id1 = setInterval(function(){
                if(!$('.box1 li').first().is(':animated')){
                $('.box1 li').first().animate({'margin-top':'-50px'},800,function(){
                    $('this').detach().appendTo('.box1').removeAttr('style');
                });
                }
            },1000); 
            
            id2 = setInterval(function(){
                if(!$('.box2 li').first().is(':animated')){
                $('.box2 li').first().animate({'margin-top':'-50px'},1000,function(){
                    $('this').detach().appendTo('.box2').removeAttr('style');
                });
                }
            },1500);
            */
        
            // 위에 코드와 같은 기능인데 함수를 만들어서 간단해졌다.
            // 매개변수를 줄 때 순서가 부모 자식 순서여야한다.(.box > li)
            id1 = rollingTop('.box1','li',-50,800,1000);
            id2 = rollingTop('.box2','li',-50,1000,1500);
            id3 = rollingTop('.box3','li',-50,1500,2000);

            $('.box1').hover(function(){
                clearInterval(id1);
            },function(){
                id1 = rollingTop('.box1','li',-50,800,1000);
            });

            $('.box2').hover(function(){
                clearInterval(id2);
            },function(){
                id2 = rollingTop('.box2','li',-50,1000,1500);
            });

            $('.box3').hover(function(){
                clearInterval(id3);
            },function(){
                id3 = rollingTop('.box3','li',-50,1500,2000);
            });
        });

        /* 함수를 만든다. rolling.js로 이동
        function rollingTop(list, listItem, marginTop, animateTime, intervalTime){
           var id = setInterval(function(){
                if(!$(list + ' ' + listItem).first().is(':animated')){
                $(list + ' ' + listItem).first()
                .animate({'margin-top': marginTop + 'px'},animateTime,function(){
                    $('this').detach().appendTo(list).removeAttr('style');
                });
                }
            },intervalTime);
            return id;
        }*/

    </script>
    <style>
        ul{
            background-color: yellow;
            height: 50px;
            list-style: none;
            overflow: hidden;
        }

        li{
            text-align: center;
            height: 50px;
            line-height: 50px;

        }
    </style>

    
</head>
<body>
    <ul class="box1">
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
    </ul>

    <ul class="box2">
        <li>a</li>
        <li>b</li>
        <li>c</li>
        <li>d</li>
    </ul>

    <ul class="box3">
        <li>a</li>
        <li>b</li>
        <li>c</li>
        <li>d</li>
    </ul>
</body>
</html>